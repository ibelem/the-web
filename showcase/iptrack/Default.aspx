<%@ Page Language="C#" AutoEventWireup="true" CodeFile="Default.aspx.cs" Inherits="IPTracking" ValidateRequest="false" %>
<%@ Register Assembly="AjaxControlToolkit" Namespace="AjaxControlToolkit" TagPrefix="cc1" %>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" >
<head id="Head1" runat="server">
<title>BELEM - IP Track</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Language" content="utf-8" />
<meta name="robots" content="all" />
<meta name="author" content="Belem, hi@live.com" />
<meta name="Copyright" content="Copyright (c) 2008 Belem, 张敏" />
<meta name="description" content="IP Track, Windows Live Spaces 小工具, By Belem, 张敏" />
<meta name="keywords" content="IP Track, Windows Live Spaces 小工具, By Belem, 张敏" />
<link href="css/photoborder.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" >
function suckerfish(type, tag, parentId) {
if (window.attachEvent) {
window.attachEvent("onload", function() {
var sfEls = (parentId==null)?document.getElementsByTagName(tag):document.getElementById(parentId).getElementsByTagName(tag);
type(sfEls);
});
}
}
sfFocus = function(sfEls) {
for (var i=0; i<sfEls.length; i++) {
sfEls[i].onfocus=function() {
this.className+=" sffocus";
}
sfEls[i].onblur=function() {
this.className=this.className.replace(new RegExp(" sffocus\\b"), "");
}
}
}
suckerfish(sfFocus, "input");
</script>
 
</head>
<body>
    <form id="form1" runat="server">
     <cc1:ToolkitScriptManager ID="ToolkitScriptManager1" runat="server" EnablePartialRendering="true" />
    <div id="B_Header">  
    <a href="http://www.belemview.com/bbs" title="belemview.com"><img src="img/logo.gif" style="border-width:0px;" alt="小声讨论" /></a> 
</div>
 
<div id="B_HeaderNav"> 
    <a href="http://lieb.cn" title="首 页">首 页 </a><span> &gt; </span><a href="#" title="IP Track">IP Track</a> </div>
<div id="B_Outer_Wrapper">

	<div id="B_Wrapper">
		<div id="B_LeftMainContainer">
 
            <div id="B_LeftNav">
             
 

<div class="btnleftNav2"> 
<script type="text/javascript"><!--
google_ad_client = "pub-9899474829491302";
google_alternate_color = "FFFFFF";
google_ad_width = 120;
google_ad_height = 240;
google_ad_format = "120x240_as";
google_ad_type = "text_image";
google_ad_channel ="";
google_color_border = "FFFFFF";
google_color_bg = "FFFFFF";
google_color_link = "333333";
google_color_url = "232323";
google_color_text = "4C4C4C";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>
 
 
            </div>			
				
			<div id="B_Main"> 
           
<div id="B_S1">第一步 请输入您的空间地址
<div class="thepanel">
   <asp:Label ID="Label2" runat="server" Text=" "></asp:Label>
        http://<asp:TextBox ID="TextBox1" runat="server" MaxLength="48" Width="108px" OnTextChanged="TextBox1_TextChanged" AutoPostBack="true"></asp:TextBox>.spaces.live.com<br />

</div>

</div>  
 <div id="B_S2">第二步 获得 IP Track 代码
<div class="thepanel">
         <asp:UpdatePanel ID="UpdatePanel1" runat="server">
            <ContentTemplate>
        <asp:Label ID="Label1" runat="server" Text=""></asp:Label>
        </ContentTemplate>
        <Triggers>
        <asp:AsyncPostBackTrigger ControlID="TextBox1" EventName="TextChanged" />
        </Triggers>
        </asp:UpdatePanel>
</div>
</div>
 <div id="B_S3">第三步 设置过滤IP [固定 IP 适用][可选, 可不填]
     <asp:Label ID="Label3" runat="server" ForeColor="#C000C0" Text="Label" Width="194px"></asp:Label><div class="thepanel">
无需记录该IP地址1:
       <asp:TextBox ID="tbIpFilter1" runat="server" MaxLength="16" Width="256px" ></asp:TextBox> 例如: 1.1.1.1<br />
无需记录该IP地址2:       <asp:TextBox ID="tbIpFilter2" runat="server" MaxLength="16" Width="256px" ></asp:TextBox>
    例如: 254.254.254.254<br /><br />
       <asp:Button ID="btFilter" runat="server" Text="过滤 IP" Width="128px" BackColor="Honeydew" BorderColor="YellowGreen" CssClass="iHand" OnClick="btFilter_Click" /><br /><br />
       <asp:UpdatePanel ID="UpdatePanel2" runat="server">
            <ContentTemplate>
       <asp:Label ID="lbFilterSucc" runat="server" ForeColor="Red" Width="795px"></asp:Label>
           </ContentTemplate>
        <Triggers>
        <asp:AsyncPostBackTrigger ControlID="btFilter" EventName="Click" />
        </Triggers>
        </asp:UpdatePanel>
* 请注意, 目前只有添加过滤 IP 地址功能, 暂无修改功能, 请慎重填写. 有时间 BELEM 再做修改/删除功能. 有问题请联系 BELEM.       
</div>
</div> 

<div id="Div1">第四步 查询空间 IP 访问记录
<div class="thepanel2">
<div id="IPPreview">
<span class="hiV">
<asp:LinkButton ID="LinkButton2"
            runat="server" OnClick="LinkButton1_Click">查看IP访问记录</asp:LinkButton>: 请输入您的空间名, 点击查询历史信息</span>
</div>
</div>
</div>
     </div>
 

<div id="B_Footer">&copy;2008 <a href="http://www.belemview.com" title="About Belem" target="_blank">Belem</a> | <a href="http://lieb.cn" title="Lieb!, enhance your Windows Live Spaces.">Lieb.cn</a> | <a href="http://belemview.spaces.live.com " target="_blank" title="Belem的共享空间">共享空间</a> | <a href="http://bbs.belemview.com " target="_blank" title="小声讨论">小声讨论</a>   
 </div>
 </div>
 </div>
 </div>
 
 
    
    </form>
</body>
</html>
